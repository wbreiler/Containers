# Containerized Home Lab (WIP)
---
#### FAQ:
- Why use Docker Swarm?
	- In my experience, Docker Swarm has been easier and quicker to set up than any flavor of Kubernetes, even k3s.
- Why use Raspberry Pis?
	- Raspberry Pis are cheap, easy to set up, and aren't expensive to maintain.
- Why containerize everything?
	- I've found that containerization is the best way to get the most out of a Raspberry Pi, and it makes running a home lab easier and cheaper without an entire rack and a bunch of servers.
- Why not make this an Ansible playbook?
	- I'd love to actually, I just don't know Ansible at all. If someone would love to give me some pointers or even contribute a playbook, submit a PR!
#### Prerequisites:
- Raspberry Pi(s) running [Ubuntu Server](https://ubuntu.com/download/raspberry-pi) 64 bit
    - I'm using 2x Raspberry Pi CM4 8GB RAM, and a Raspberry Pi 3B+ but you can use whatever you have lying around.
- Docker
	- `$ curl -fsSL https://get.docker.com -o get-docker.sh`
	- `# sh get-docker.sh`
- Docker Compose
	- `# curl -L "https://github.com/docker/compose/releases/download/v2.0.1/docker-compose-linux-aarch64" -o /usr/local/bin/docker-compose`
	- `# chmod +x /usr/local/bin/docker-compose`
- Docker Compose files 
	- `$ scp -r ~/Code/RPi-Projects/Misc/Containers ubuntu@<node's hostname/ip>:/home/ubuntu` OR
	- `$ git clone https://github.com/wbreiler/Containers`
- Docker Swarm
	- `# docker swarm join --token <token> <master node's IP>:2377`
#### Instructions:
- [Minecraft Server](https://github.com/itzg/docker-minecraft-server)
	- `$ cd ~/Containers/Minecraft`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml mc`
- [Home Assistant](https://home-assistant.io/)
	- `$ cd ~/Containers/HomeAssistant`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml hass`
- [Homebridge](http://homebridge.io/)
	- `$ cd ~/Containers/Homebridge`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml hbridge`
- Self-hosted monitoring ([**Uptime Kuma**](https://github.com/louislam/uptime-kuma)/Statping/Shynet)
	- `$ cd ~/Containers/UptimeKuma`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml uptimek`
- ~~LibreNMS~~
- [Personal Cloud](https://github.com/nextcloud/docker)
	- `$ cd ~/Containers/Nextcloud`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml nextcloud`
- [Code Server](https://github.com/cdr/code-server)
	- `$ cd ~/Containers/CodeServer`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml codeserver`
- [Drupal](https://drupal.org)
	- `$ cd ~/Containers/Drupal`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml drupal`
- [Pastebin](https://github.com/pawelmalak/snippet-box)
	- `$ cd ~/Containers/Pastebin`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml pastebin`
- [Notes](https://github.com/zadam/trilium)
	- `$ cd ~/Containers/Notes`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml notes`
- [Mailcow](https://github.com/mailcow/mailcow-dockerized)
	- `$ cd ~/Containers/Mailcow`
	- `# docker-compose up -d`
	- `# docker-compose down --volumes`
	- `# docker-compose push`
	- `# docker stack deploy --compose-file docker-compose.yml mailcow`